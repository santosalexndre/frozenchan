<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styles/frozen-theme.css">
    <title>Document</title>
</head>
<body>
    <header class="boards">
        [ <a href="/">index</a> ]
        <% for(let board of boardList) { %>
        [ <a href="/<%=board%>/">/<%= board %>/</a> ]
        <% } %>
    </header> 
    <h1 class="board-title"> /<%= directory %>/ - <%= boardName %></h1>
    <hr>
    <div class="post-form">
        <form action="/<%= directory %>/<%= opts.thread ? 'thread/' + opts.thread.id : '' %>" method="post" enctype="multipart/form-data">
            <% if (!opts.thread) { %>
            <div>
                <label for="subject">Subject</label>
                <input type="text" name="subject" id="">
            </div>
            <% } %>
            <div>
                <label for="name">Name</label>
                <input type="text" name="name" id="">
            </div>
            <div>
                <label for="comment">Comment</label>
                <textarea name="comment" id="comment" required></textarea>
            </div>
            <div>
                <label for="comment">File (?)</label>
                <input type="file" name="image" id="input-file" <% if (!opts.thread) { %> required <% } %>>
            </div>
            <button type="submit">Submit Post</button>
        </form>
    </div>
    <hr>
    <%- include(page, opts); %>
</body>
<script>
    window.onload = () => {
        const preview = document.getElementById("#image-preview");
        preview.hidden = true;
        window.imagePreview = preview;
    }
    function showPreview(el) {
        let src = el.src.replace(/s(?=\.)/, "");
        imagePreview.hidden = false;
        imagePreview.src = src;
    }

    function hidePreview(el) {
        if (!imagePreview.hidden) return;
        imagePreview.hidden = false
    }
</script>
</html>